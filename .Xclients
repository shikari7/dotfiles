#!/bin/bash

# $Id$	

# Save debugging output by display, its often useful.
exec > $HOME/.Xsessionlog/$DISPLAY 2>&1
set -x

# good color combinations
# fg, bg
# navyblue, mistyrose
# yellow, darkkhaki

# debugging info
date
env
xset q

# initial set-up

# disable the screensaver
xset s noblank

if [ -f $HOME/.Xmodmap ]; then
  xmodmap $HOME/.Xmodmap
fi

if [ ! -d $HOME/.kde ]; then
  xset m 3 8
  xdaliclock -transparent -noseconds -geometry -375-0 &
  blacken-cmap -loop &
  xearth -ncolors 16 -label -labelpos +0+0 -bigstars 20 -night 15 -font lucidasans-bold-18 -pos random -nice 10 -fork
  nice -n 20 xscreensaver -install -cycle 2 -timeout 5 &
  xsetroot -cursor $HOME/.icons/hobbes.icon $HOME/.icons/hobbesmask.icon &
  tkpostage -detailFont 8x16 -numberFont 10x20 -geometry -250-20 &
  xosview -geometry +10-10 &
  rxvt -fn 6x10 -geometry 80x10-10-110 -e swatch -t /var/log/swatch &
  exec fvwm2
else
  exec startkde
fi
